<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<style type="text/css">
body
{
    background-image: url("images/white.jpg");
    background-repeat: no-repeat;
    background-size: 100%; 
    background-attachment: fixed;
}
</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-sm-4">
				<h2 style="text-align: center;">{{currentUser.firstname}} {{currentUser.surname}}</h2>
				<p style="text-align: center;"><img data-ng-src="http://localhost:8084/RestController/getimage/{{currentUser.username}}" height="210px" width="210px" alt="upload profile pic" onerror="this.src='images/profilepic.png'" height="250" width="250"></p>
				<p style="text-align: center;"><a class="btn btn-default" href="#/uploadprofilepic"  >Upload New Profile Photo?</a></p>
			</div>
			<div class="col-sm-8">
			
				<ul class="nav nav-tabs nav-justified">
 					 <li role="presentation"><a data-toggle="tab" href="#myprofile">My Profile</a></li>
 					 <li role="presentation"><a data-toggle="tab" href="#friendslist">My Friends</a></li>
					 <li role="presentation"><a data-toggle="tab" href="#pendingrequests">Pending Requests</a></li>
					 <li role="presentation"><a data-toggle="tab" href="#getsuggestedusers">Sent Requests</a></li>
					 <li role="presentation"><a data-toggle="tab" href="#getalljobs">Applied Jobs</a></li>
				</ul>
								
				 <div class="tab-content">
				    <div id="myprofile" class="tab-pane fade in active">
				    <table class="table table-striped">
			    		
			    		<tr>
							<th> UserName: </th>
							<td> {{currentUser.username}}</td>
			    		</tr>
			    		<tr>
							<th> </th>
							<td> </td>
			    		</tr>
			    		
			    		<tr>
							<th> Name: </th>
							<td> {{currentUser.firstname}} {{currentUser.surname}}</td>
			    		</tr>
			    		<tr>
							<th> </th>
							<td> </td>
			    		</tr>
			    		
			    		<tr>
							<th> E-Mail ID: </th>
							<td> {{currentUser.email}}</td>
			    		</tr>
			    		<tr>
							<th> </th>
							<td> </td>
			    		</tr>
			    		
			    		<tr data-ng-if="currentUser.dob">
							<th> Birthday: </th>
							<td> {{currentUser.dob}}</td>
			    		</tr>
			    		<tr data-ng-if="currentUser.dob">
			    			<th> </th>
							<td> </td>
			    		</tr>
			    	<!-- 	
			    		<tr>
							<th> Gender: </th>
							<td> 
								<p data-ng-if="currentUser.gender == 'M'">Male</p>
								<p data-ng-if="currentUser.gender == 'F'">Female</p>
							</td>
			    		</tr>
			    		<tr>
							<th> </th>
							<td> </td>
			    		</tr> -->
			    		
			    		<tr>
							<th> Position: </th>
							<td> {{currentUser.role}}</td>
			    		</tr>
			    		<tr>
							<th> </th>
							<td> </td>
			    		</tr>
			    		
			    		<tr>
							<th> Phone Number: </th>
							<td> {{currentUser.phone}}</td>
			    		</tr>
			    	</table>
				    </div>
				    
			        <div id="" class="tab-pane fade">
						<h3>Friends List</h3>
						
						<div class="row" data-ng-repeat="user in friends">
							<div class="col-sm-2">
								<p style="text-align: center;"><img  src="http://localhost:8084/RestController/getimage/{{user}}" alt="Image Not Available"
               class="img-circle" height="75" width="75"></p>
								<!-- <p style="text-align: center;"><img data-ng-if="f.userID==currentUser.username" data-ng-src="images/{{friend.id}}" onerror="this.src='images/profilepic.png'" class="img-circle" height="75" width="75"></p>
						 -->	</div>
							<div class="col-sm-8">
								<table class="table">
									<tr>
											<td ><strong>UserName:</strong><a href="" > {{user}}</a></td>
											
									</tr>
									<!-- <tr>
											<td data-ng-if="f.friendID==currentUser.username"><strong>Name:</strong> {{friend.firstname}} {{f.userLName}}</td>
											<td data-ng-if="f.userID==currentUser.username"><strong>Name:</strong> {{friend.friendFName}} {{f.friendLName}}</td>
									</tr>
									<tr>
											<td data-ng-if="f.friendID==currentUser.username"><strong>Online:</strong> {{f.userIsOnline}}</td>
											<td data-ng-if="f.userID==currentUser.username"><strong>Online:</strong> {{f.friendisOnline}}</td>
									</tr> -->
									
								</table>
							</div>
							<!-- <div class="col-sm-2">
								<a class="btn btn-danger" data-ng-if="f.friendID==currentUser.username" href="" data-ng-click="removeFriend(f.userID)">Remove Friend</a>
								<a class="btn btn-danger" data-ng-if="f.userID==currentUser.username" href="" data-ng-click="removeFriend(f.friendID)">Remove Friend</a>
							</div> -->
						</div>
						
						</div>
						<!-- <div data-ng-if="!friends">
							You have no friends.
						</div> -->
					</div>

			        <div id="pendingRequests" class="tab-pane fade">
						<h3>Pending Requests</h3>
						<div data-ng-if="pendingRequest">
							<div class="row" data-ng-repeat="p in pendingRequest">
								<div class="col-sm-2">
									<p style="text-align: center;"><img data-ng-src="images/{{p.userID}}" onerror="this.src='images/profilepic.png'" class="img-circle" height="75" width="75"></p>
								</div>
								<div class="col-sm-6">
									<table class="table">
										<tr>
											<td><strong>UserName:</strong><a data-ng-click="getProfile(p.userID)" > {{p.userID}} </a></td>
										</tr>
										<tr>
											<td><strong>Name:</strong> {{p.userFName}} {{p.userLName}}</td>
										</tr>
									</table>				
								</div>
								<div class="col-sm-2">
									<a href="" class="btn btn-success" data-ng-click="acceptRequest(p.userID)">Accept Request</a>				
								</div>
								<div class="col-sm-2">
									<a href="" class="btn btn-danger" data-ng-click="rejectRequest(p.userID)">Reject Request</a>				
								</div>
							</div>
						</div>

						<div data-ng-if="!pendingRequest">
							You have no pending requests.
						</div>
					</div>

			        <div id="sentRequests" class="tab-pane fade">
						<h3>Sent Requests</h3>
						<div data-ng-if="suggestedUsers">
							<div class="row" data-ng-repeat="user in suggestedUsers">
								<div class="col-sm-2">	
									<p style="text-align: center;"><img data-ng-src="images/{{user.id}}" onerror="this.src='images/profilepic.png'" class="img-circle" height="75" width="75"></p>
								</div>		
								<div class="col-sm-8">
									<table class="table">
										<tr>
											<td><strong>UserName:</strong><a data-ng-click="getProfile(s.friendID)" > {{s.friendID}} </a></td>
										</tr>
										<tr>
											<td><strong>Name:</strong> {{s.friendFName}} {{s.friendLName}}</td>
										</tr>
									</table>					
								</div>
								<div class="col-sm-2">
									<a class="btn btn-danger" href="" data-ng-click="cancelRequest(s.friendID)">Cancel Request</a>	
								</div>
						</div>
					</div>
						<div data-ng-if="!sentRequest">
							You have no sent requests.
						</div>
    			</div>
				
	        	<div id="myJobs" class="tab-pane fade">
						<h3>Jobs Applied For</h3>
						<div data-ng-if="myJobs">
							<div class="row" data-ng-repeat="m in myJobs">
								<div class="col-sm-2">	
									<p style="text-align: center;"><img data-ng-src="images/{{m.username}}" onerror="this.src='images/profilepic.png'" class="img-circle" height="75" width="75"></p>
								</div>		
								<div class="col-sm-8">
									<table class="table">
										<tr>
											<td><strong>Organization: </strong>{{m.company}}</td>
										</tr>
										<tr>
											<td><strong>Position: </strong>{{m.position}}</td>
											<td><strong>Location: </strong>{{m.location}}</td>
										</tr>
										<tr>
											<td><strong>Applied on: </strong>{{m.date}}</td>
										</tr>
									</table>					
								</div>
								<div class="col-sm-2">
								</div>
						</div>
					</div>
						<div data-ng-if="!myJobs">
							You have not applied for any jobs.
						</div>
    			</div>
								
			</div>	
		</div>
	</div>
</div>
</body>
</html>